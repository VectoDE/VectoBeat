version = 1

# Branches to analyze
branch = "development"

# Enable analysis for multiple branches
[[analyzers]]
name = "javascript"
enabled = true
channel = "stable"

  # Files and directories to include/exclude
  [analyzers.meta]
  runtime_version = "20.x" # Node.js version
  include = ["frontend/**/*.{js,jsx,ts,tsx}"]
  exclude = ["frontend/.next", "frontend/node_modules", "frontend/out"]

  [analyzers.javascript]
  rules = "recommended"
  autofix = true

[[analyzers]]
name = "python"
enabled = true
channel = "stable"

  [analyzers.meta]
  runtime_version = "3.12" # Python version
  include = ["bot/**/*.py"]
  exclude = ["bot/.venv", "bot/__pycache__"]

  [analyzers.python]
  linters = ["pylint", "mypy", "flake8", "bandit"]
  autofix = ["black"]
  security_checks = true
  type_checks = true

[[analyzers]]
name = "prisma"
enabled = true
channel = "stable"

  [analyzers.meta]
  include = ["prisma/schema.prisma"]
  exclude = []

# Enable pull request checks
[report]
enabled = true
auto_fix = true
exclude_paths = ["**/node_modules/**", "**/.venv/**", "**/.next/**", "**/out/**"]

# Branch specific configuration
[[report.branches]]
name = "main"
enabled = true
auto_fix = true

[[report.branches]]
name = "development"
enabled = true
auto_fix = true

# Optional: customize security hotspot scanning
[[analyzers.security]]
enabled = true
severity_threshold = "medium"
channels = ["stable"]

# Optional: Ignore certain files globally
[ignore]
paths = [
  "frontend/.next/**",
  "frontend/out/**",
  "frontend/node_modules/**",
  "bot/__pycache__/**",
  "bot/.venv/**",
]
